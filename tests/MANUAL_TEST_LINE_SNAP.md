# üß™ MANUAL TEST: Line Snap to Grid - Both Ends

## ‚úÖ –ß–¢–û –ü–†–û–í–ï–†–Ø–ï–ú

Line —ç–ª–µ–º–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å snap'–∏—Ç **–û–ë–ê –∫–æ–Ω—Ü–∞** –∫ —Å–µ—Ç–∫–µ –ø—Ä–∏ drag:
- Start point (x, y) ‚Üí snap –∫ grid
- End point (x2, y2) ‚Üí snap –∫ grid

---

## üöÄ –ö–ê–ö –ó–ê–ü–£–°–¢–ò–¢–¨

1. **–û—Ç–∫—Ä–æ–π –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:**
   ```
   cd D:\AiKlientBank\1C_Zebra
   ```

2. **–ê–∫—Ç–∏–≤–∏—Ä—É–π venv:**
   ```
   .venv\Scripts\activate
   ```

3. **–ó–∞–ø—É—Å—Ç–∏ GUI:**
   ```
   python main.py
   ```

---

## üìã –¢–ï–°–¢-–ö–ï–ô–°–´

### TEST 1: –°–æ–∑–¥–∞—Ç—å Line –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å snap

1. **–î–æ–±–∞–≤–∏—Ç—å Line:**
   - Sidebar ‚Üí –∫–Ω–æ–ø–∫–∞ "Line" (–∏–ª–∏ Menu ‚Üí Add ‚Üí Line)
   - Line –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ canvas

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:**
   - –í—ã–±–µ—Ä–∏ Line (–∫–ª–∏–∫–Ω–∏ –Ω–∞ –Ω–µ—ë)
   - Property Panel ‚Üí –ø–æ—Å–º–æ—Ç—Ä–∏:
     - Position X, Y (start point)
     - End X, End Y (end point)

3. **Drag Line:**
   - –ó–∞–∂–º–∏ Line –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏ –Ω–∞ canvas
   - **–û–ñ–ò–î–ê–ù–ò–ï:** –ü—Ä–∏ drag –æ–±–∞ –∫–æ–Ω—Ü–∞ –¥–æ–ª–∂–Ω—ã "–ø—Ä–∏–ª–∏–ø–∞—Ç—å" –∫ grid –ª–∏–Ω–∏—è–º

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:**
   - Property Panel –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
     - Position X = –∫—Ä–∞—Ç–Ω–æ 1mm (–Ω–∞–ø—Ä–∏–º–µ—Ä: 10.0, 11.0, 12.0)
     - Position Y = –∫—Ä–∞—Ç–Ω–æ 1mm
     - End X = –∫—Ä–∞—Ç–Ω–æ 1mm
     - End Y = –∫—Ä–∞—Ç–Ω–æ 1mm

### TEST 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ snap —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –û–ë–û–ò–• –∫–æ–Ω—Ü–æ–≤

1. **–°–æ–∑–¥–∞—Ç—å Line —Å "–Ω–µ—Ä–æ–≤–Ω—ã–º–∏" –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏:**
   - Property Panel ‚Üí –≤—Ä—É—á–Ω—É—é –≤–≤–µ–¥–∏:
     - Position X = 9.55mm
     - Position Y = 9.67mm
     - End X = 24.89mm
     - End Y = 10.23mm

2. **Drag –Ω–µ–º–Ω–æ–≥–æ (1-2px):**
   - –°–¥–≤–∏–Ω—å Line –Ω–∞ 1-2 –ø–∏–∫—Å–µ–ª—è

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - **Start point** –¥–æ–ª–∂–µ–Ω snap'–Ω—É—Ç—å—Å—è: 9.55 ‚Üí 10.0mm, 9.67 ‚Üí 10.0mm
   - **End point** –¥–æ–ª–∂–µ–Ω snap'–Ω—É—Ç—å—Å—è: 24.89 ‚Üí 25.0mm, 10.23 ‚Üí 10.0mm
   - Property Panel –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—Ä–∞—Ç–Ω—ã–µ 1mm

### TEST 3: Toggle Snap On/Off

1. **–í—ã–∫–ª—é—á–∏—Ç—å Snap:**
   - Toolbar ‚Üí checkbox "Snap to Grid" ‚Üí uncheck
   - –ò–õ–ò –Ω–∞–∂–º–∏ Ctrl+G

2. **Drag Line:**
   - Line –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –ë–ï–ó snap
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä–æ–±–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 9.68mm, 10.34mm)

3. **–í–∫–ª—é—á–∏—Ç—å Snap:**
   - Toolbar ‚Üí checkbox "Snap to Grid" ‚Üí check
   - –ò–õ–ò –Ω–∞–∂–º–∏ Ctrl+G —Å–Ω–æ–≤–∞

4. **Drag Line:**
   - Line –¥–æ–ª–∂–Ω–∞ snap'–∏—Ç—å—Å—è –∫ grid –ª–∏–Ω–∏—è–º
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—Ä–∞—Ç–Ω—ã–µ 1mm

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### ‚úì PASS –µ—Å–ª–∏:
- ‚úÖ Start point (x, y) snap'–∏—Ç—Å—è –∫ grid –ø—Ä–∏ drag
- ‚úÖ **End point (x2, y2) snap'–∏—Ç—Å—è –∫ grid –ø—Ä–∏ drag** ‚Üê –ì–õ–ê–í–ù–û–ï!
- ‚úÖ Property Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—Ä–∞—Ç–Ω—ã–µ 1mm (10.0, 11.0, 25.0...)
- ‚úÖ Snap toggle —Ä–∞–±–æ—Ç–∞–µ—Ç (On/Off)
- ‚úÖ Line –≤–∏–∑—É–∞–ª—å–Ω–æ "–ø—Ä–∏–ª–∏–ø–∞–µ—Ç" –∫ grid –ª–∏–Ω–∏—è–º

### ‚ùå FAIL –µ—Å–ª–∏:
- ‚ùå End point –ù–ï snap'–∏—Ç—Å—è (–æ—Å—Ç–∞–µ—Ç—Å—è –¥—Ä–æ–±–Ω—ã–º: 24.89mm)
- ‚ùå –¢–æ–ª—å–∫–æ start point snap'–∏—Ç—Å—è, end "–ø–ª–∞–≤–∞–µ—Ç"
- ‚ùå Property Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥—Ä–æ–±–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ—Å–ª–µ snap

---

## üêõ –ß–¢–û –î–ï–õ–ê–¢–¨ –ï–°–õ–ò FAIL

1. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:**
   ```
   type logs\zpl_designer.log | findstr /I "LINE-SNAP"
   ```
   
   –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   ```
   [LINE-SNAP] Start: (...) -> (...) mm
   [LINE-SNAP] End: (...) -> (...) mm
   ```

2. **–ï—Å–ª–∏ End snap –ª–æ–≥–æ–≤ –ù–ï–¢:**
   - –ó–Ω–∞—á–∏—Ç snap –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è end point
   - –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å –≤ shape_element.py

3. **–°–æ–æ–±—â–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - PASS –∏–ª–∏ FAIL?
   - –°–∫—Ä–∏–Ω—à–æ—Ç Property Panel –ø–æ—Å–ª–µ drag
   - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –∏–∑ –ª–æ–≥–æ–≤

---

## üì∏ –°–ö–†–ò–ù–®–û–¢ –î–õ–Ø –û–¢–ß–ï–¢–ê

–°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç –≥–¥–µ –≤–∏–¥–Ω–æ:
1. Canvas —Å Line —ç–ª–µ–º–µ–Ω—Ç–æ–º
2. Property Panel —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
3. Toolbar —Å "Snap to Grid" checkbox (checked)

**–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫—Ä–∞—Ç–Ω—ã–º–∏ 1mm!**

---

## üéØ –ì–û–¢–û–í–û?

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- [ ] Line snap —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±–æ–∏—Ö –∫–æ–Ω—Ü–æ–≤
- [ ] Property Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- [ ] Snap toggle —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–µ—Ç –±–∞–≥–æ–≤ –≤ GUI

**–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ NORMAL:**
```
config.py ‚Üí CURRENT_LOG_LEVEL = 'NORMAL'
```

---

**–¢–ï–°–¢ –°–û–ó–î–ê–ù:** 2025-10-06
**BUG FIX:** Line snap –¥–ª—è –æ–±–æ–∏—Ö –∫–æ–Ω—Ü–æ–≤
**EXIT CODE:** 0 (automated test passed)
